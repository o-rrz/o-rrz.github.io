<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>解碼表 · 莫比空間</title>
<link rel="stylesheet" href="assets/css/framework.css">
<style>
body{background:#1a1a2e;color:#fff;font-family:system-ui;margin:0;padding:20px;}
h1{text-align:center;margin-top:20px;margin-bottom:40px;color:#60a5fa;}
.table{max-width:900px;margin:0 auto 40px auto;border-collapse:collapse;width:100%;}
.table th, .table td{border:1px solid #444;padding:10px;text-align:center;}
.table th{background:#162447;color:#fff;}
.table td{background:#1f4068;}
.page-list{max-width:900px;margin:0 auto 40px auto;background:#162447;padding:20px;border-radius:14px;}
.page-list h2{color:#60a5fa;margin-bottom:15px;}
.page-list ul{list-style:none;padding:0;margin:0;}
.page-list ul li{margin-bottom:10px;}
.page-list ul li a{color:#e5e7eb;text-decoration:none;padding:6px 12px;background:#1f4068;border-radius:6px;display:inline-block;transition:background .2s;}
.page-list ul li a:hover{background:#60a5fa;color:#0f172a;}
</style>
</head>
<body>

<h1>解碼表</h1>

<table class="table">
<thead>
<tr>
<th>郵件代碼</th>
<th>隱私等級</th>
<th>用途碼</th>
<th>轉發狀態</th>
<th>總代碼</th>
</tr>
</thead>
<tbody id="code-table"></tbody>
</table>

<div class="page-list">
  <h2>所有頁面導航</h2>
  <ul id="page-links"></ul>
</div>

<script src="assets/js/data.js"></script>
<script>
var CODES = window.CODE_DATA || [];
const tbody = document.getElementById("code-table");
CODES.forEach(item => {
  const tr = document.createElement("tr");
  tr.innerHTML = `<td>${item.email}</td><td>${item.privacy}</td><td>${item.purpose}</td><td>${item.forward}</td><td>${item.total}</td>`;
  tbody.appendChild(tr);
});

// 自動生成頁面導航
fetch('assets/data/pages.json')
  .then(res => res.json())
  .then(pages => {
    const pageListEl = document.getElementById("page-links");
    pages.forEach(p => {
      const li = document.createElement("li");
      const a = document.createElement("a");
      a.href = p.url;
      a.textContent = p.name;
      li.appendChild(a);
      pageListEl.appendChild(li);
    });
  })
  .catch(err => console.error('載入頁面清單失敗:', err));
</script>

</body>
</html>
